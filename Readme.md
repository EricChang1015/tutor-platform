# ğŸ“ Tutor Platform - é …ç›®ç¸½çµ
## ğŸ“‹ é …ç›®æ¦‚è¿°
Tutor Platform æ˜¯ä¸€å€‹å®Œæ•´çš„ç·šä¸Šå®¶æ•™å¹³å°å¾Œç«¯ç³»çµ±ï¼Œæä¾›å¾ç”¨æˆ¶ç®¡ç†åˆ°èª²ç¨‹çµç®—çš„å…¨å¥—åŠŸèƒ½ã€‚

## Agent ç³»çµ±æç¤ºï¼ˆSystem Promptï¼‰
è«‹åš´æ ¼æŒ‰ç…§ä»¥ä¸‹å€å¡Šè¼¸å‡ºï¼Œæ–¹ä¾¿è¤‡è£½åŸ·è¡Œï¼š
1) .todo è¨ˆåŠƒè‰æ¡ˆ
- ä¿®æ”¹ç›®çš„ï¼š
- å½±éŸ¿ç¯„åœï¼š
- é¢¨éšª/å›æ»¾ï¼š
- æ¸¬è©¦é …ç›®ï¼š

2) è®Šæ›´æ¸…å–®èˆ‡ä»£ç¢¼å·®ç•°æ‘˜è¦
- æ–°å¢/ä¿®æ”¹æª”æ¡ˆåˆ—è¡¨ï¼ˆè·¯å¾‘ + ä¸€å¥è©±èªªæ˜ï¼‰
- DB migrationï¼ˆè‹¥æœ‰ï¼‰èˆ‡ schema è¦é»
- çµ„æ…‹è®Šæ›´ï¼ˆ.env.example / dockerï¼‰

3) åŸ·è¡ŒæŒ‡ä»¤
- ä¾åºåˆ—å‡ºå¯ç›´æ¥è²¼ä¸Šçš„å‘½ä»¤ï¼ˆå« docker composeã€prisma migrateã€seedã€æ¸¬è©¦ï¼‰

4) æ¸¬è©¦æ­¥é©Ÿèˆ‡é æœŸçµæœ
- åˆ—å‡ºç”¨ curl æˆ– httpie çš„è«‹æ±‚èˆ‡é æœŸå›æ‡‰ç¢¼/é—œéµæ¬„ä½
- è‹¥éœ€è¦æ‰‹å‹•åœ¨ç€è¦½å™¨æ“ä½œ testAPI.htmlï¼Œè«‹æŒ‡æ˜ URL

5) æ–‡ä»¶æ›´æ–°ç‰‡æ®µ
- Readme.md éœ€æ–°å¢/ä¿®æ”¹çš„æ®µè½ï¼ˆæä¾›å¯è²¼ä¸Šçš„ Markdownï¼‰
- docs/openAPI.yaml æˆ–å…¶ä»– docs æ›´æ–°ï¼ˆå¦‚éœ€ï¼Œæä¾› diff æˆ–å®Œæ•´æ›¿æ›ç‰‡æ®µï¼‰

6) Git æäº¤è¨Šæ¯
- æä¾›ä¸€å‰‡ä¸­æ–‡ commit messageï¼ˆå«å‹•æ©Ÿ/è®Šæ›´/æ¸¬è©¦ï¼‰
- åˆ†æ”¯åç¨±å»ºè­°

7) è‹¥å¤±æ•—æ™‚çš„å›æ¨èˆ‡æš«åœç­–ç•¥
- åµéŒ¯æ¸…å–®ï¼ˆé€£ç·š/ç’°å¢ƒè®Šæ•¸/æ†‘è­‰/åŒ¯å…¥éŒ¯èª¤ï¼‰
- é€£çºŒ 3 æ¬¡å¤±æ•—çš„æš«åœç¸½çµæ ¼å¼èˆ‡å»ºè­°é¸é …ï¼ˆA/B/Cï¼‰

å››ã€ç¬¬ä¸€å€‹ä»»å‹™ç¯„ä¾‹ï¼ˆå¯ç›´æ¥ä¸Ÿçµ¦ Agentï¼‰
ä»»å‹™åç¨±ï¼šåˆå§‹åŒ–å¾Œç«¯éª¨æ¶èˆ‡ç’°å¢ƒ
ç›®æ¨™ï¼š
- å»ºç«‹ NestJS API å°ˆæ¡ˆéª¨æ¶ï¼ˆapps/apiï¼‰
- ä¸²æ¥ Prismaï¼Œå»ºç«‹åŸºæœ¬ User/Role schema èˆ‡ seed
- è¨­å®š Docker Composeï¼ˆPostgresã€MinIOã€MailHogã€APIï¼‰ï¼Œæ¡ host network æˆ–æ˜ç¢º ports
- å»ºç«‹ /auth/login, /auth/refresh, /auth/me çš„æœ€åŸºæœ¬æµç¨‹ï¼ˆç¡¬ç·¨ç¢¼ demo å¸³è™Ÿæˆ– seedï¼‰
- å•Ÿå‹•å¾Œèƒ½ç”¨ docs/accounts.md çš„é è¨­å¸³è™Ÿç™»å…¥

ç¯„åœèˆ‡é™åˆ¶ï¼š
- åƒ…å»ºç«‹æœ€å°å¯è·‘ MVP éª¨æ¶
- å‰ç«¯èˆ‡ ui-design.html åŸå‰‡ä¸å‹•

æ¸¬è©¦æ–¹å¼ï¼š
- docker compose up -d å¾Œï¼ŒPOST /auth/login èƒ½å–å¾— JWT
- GET /auth/me å›å‚³ä½¿ç”¨è€…è³‡è¨Š

è«‹å…ˆè¼¸å‡ºï¼š
- .todo è‰æ¡ˆ
- æª”æ¡ˆæ¸…å–®èˆ‡è¦é»
- æŒ‡ä»¤è…³æœ¬
- æ¸¬è©¦æ­¥é©Ÿ
- Readme.md æ›´æ–°ç‰‡æ®µ
- commit è¨Šæ¯

## ğŸ—‚ ä»£ç¢¼çµæ§‹

```
.
â”œâ”€â”€ docs/                                # è¦æ ¼èˆ‡æ–‡ä»¶
â”‚   â”œâ”€â”€ Requirement.md                   # éœ€æ±‚èªªæ˜ï¼ˆMVP â†’ å¯æ“´å±•ï¼‰
â”‚   â”œâ”€â”€ accounts.md                      # é è¨­å¸³è™Ÿèˆ‡é€£ç·šè³‡è¨Š
â”‚   â”œâ”€â”€ openAPI.yaml                     # REST API è¦æ ¼ï¼ˆOpenAPI 3.0ï¼‰
â”‚   â””â”€â”€ ui-design.html                   # å‰ç«¯ Demoï¼ˆç´”ç€è¦½å™¨ç¤ºç¯„ï¼Œä¸å«å¾Œç«¯ï¼‰
â”‚
â”œâ”€â”€ docker/                              # å®¹å™¨åŒ–è¨­å®šï¼ˆæœå‹™æ‹†åˆ†ï¼‰
â”‚   â”œâ”€â”€ docker-compose.yml               # ä¸€éµå•Ÿå‹•ï¼šapi + db + minio + mailhog
â”‚   â”œâ”€â”€ api.Dockerfile                   # NestJS API æ˜ åƒ
â”‚   â””â”€â”€ minio/                           # MinIO åˆå§‹åŒ–è…³æœ¬ï¼ˆé¸ç”¨ï¼‰
â”‚       â”œâ”€â”€ buckets.sh                   # å»ºç«‹ public/private bucket
â”‚       â””â”€â”€ policy.json                  # é è¨­ bucket policy
â”‚
â”œâ”€â”€ prisma/                              # Prisma ORM
â”‚   â”œâ”€â”€ schema.prisma                    # è³‡æ–™æ¨¡å‹ï¼ˆUser/Teacher/Booking/...ï¼‰
â”‚   â”œâ”€â”€ migrations/                      # è³‡æ–™åº«é·ç§»
â”‚   â””â”€â”€ seed.ts                          # é–‹ç™¼ç¨®å­è³‡æ–™ï¼ˆadmin/teacher/studentï¼‰
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/                             # å¾Œç«¯ APIï¼ˆNestJSï¼‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ main.ts                  # å…¥å£ï¼ˆNestFactoryã€CORSã€Swaggerï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ app.module.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ common/                  # å…±ç”¨ï¼šfilters/guards/interceptors/utils
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ filters/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ http-exception.filter.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ guards/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ jwt-auth.guard.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ roles.guard.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ interceptors/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dtos/                 # å…±ç”¨ DTO
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                    # ç™»å…¥/åˆ·æ–°/ç™»å‡º/æˆ‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.module.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ strategies/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ jwt.strategy.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ users/                   # Users å…¬é–‹è³‡è¨Šèˆ‡å€‹è³‡æ›´æ–°
â”‚   â”‚   â”‚   â”œâ”€â”€ teachers/                # è€å¸«æ¸…å–®/è©³æƒ…/ç›¸ç°¿ä¸Šå‚³
â”‚   â”‚   â”‚   â”œâ”€â”€ availability/            # è¦å‰‡/ä¾‹å¤–/å¯é ç´„åˆ‡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ favorites/               # æ”¶è—
â”‚   â”‚   â”‚   â”œâ”€â”€ library/                 # æ•™æè³‡æ–™å¤¾æ¨¹
â”‚   â”‚   â”‚   â”œâ”€â”€ materials/               # æ•™æ CRUDï¼ˆmultipartï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ uploads/                 # MinIO é ç°½ URL
â”‚   â”‚   â”‚   â”œâ”€â”€ timeslots/               # æœå°‹è·¨å¸«æ™‚æ®µ
â”‚   â”‚   â”‚   â”œâ”€â”€ holds/                   # é ç´„æš«å­˜é–
â”‚   â”‚   â”‚   â”œâ”€â”€ bookings/                # å»ºç«‹/æŸ¥è©¢/æ”¹æœŸ/å–æ¶ˆ/ç•™è¨€/.ics/ç¢ºèª
â”‚   â”‚   â”‚   â”œâ”€â”€ post-class/              # èª²å¾Œå›å ±/å­¸å“¡ç›®æ¨™
â”‚   â”‚   â”‚   â”œâ”€â”€ purchases/               # å¡ç‰‡åˆ—è¡¨/å•Ÿå‹•/å»¶é•·
â”‚   â”‚   â”‚   â”œâ”€â”€ consumptions/            # æ‰£å¡ç´€éŒ„
â”‚   â”‚   â”‚   â”œâ”€â”€ cancellations/           # å–æ¶ˆæ”¿ç­–é è¦½
â”‚   â”‚   â”‚   â”œâ”€â”€ reviews/                 # è©•åƒ¹ï¼ˆæ–°å¢/æŸ¥è©¢/å¯©æ ¸ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/           # é€šçŸ¥åˆ—è¡¨/SSE/å·²è®€
â”‚   â”‚   â”‚   â”œâ”€â”€ assignments/             # ç³»çµ±æŒ‡æ´¾è€å¸«
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/                 # å ±è¡¨ï¼ˆAdmin/Teacherï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/                   # ç®¡ç†ç«¯ï¼ˆæ•™å¸«/å­¸ç”Ÿ/æˆäºˆå¡ç‰‡/çµç®—/çµ±è¨ˆï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ meta/                    # Meta è³‡æ–™ï¼ˆåŸŸ/åœ°å€/æ’åºé¸é …ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ config/                  # çµ„æ…‹ï¼ˆç’°å¢ƒè®Šæ•¸ã€Mailã€MinIOï¼‰
â”‚   â”‚   â”‚       â”œâ”€â”€ env.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ mailer.ts
â”‚   â”‚   â”‚       â””â”€â”€ minio.ts
â”‚   â”‚   â”œâ”€â”€ test/                        # e2e/å–®å…ƒæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ web/                             # å‰ç«¯ï¼ˆSvelteKitï¼Œæœªä¾†æ­£å¼å‰ç«¯ï¼‰
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ routes/
â”‚       â”‚   â”œâ”€â”€ lib/
â”‚       â”‚   â””â”€â”€ stores/
â”‚       â”œâ”€â”€ static/
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ svelte.config.js
â”‚
â”œâ”€â”€ .env                          # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ï¼ˆDB/MINIO/JWT/MailHogï¼‰
â””â”€â”€ Readme.md
```

## ğŸ›  æŠ€è¡“æ¶æ§‹
### å¾Œç«¯æŠ€è¡“æ£§
- **æ¡†æ¶**: NestJS (Node.js)
- **è³‡æ–™åº«**: PostgreSQL
- **ORM**: Prisma
- **èªè­‰**: JWT
- **æª”æ¡ˆå­˜å„²**: MinIO (S3 ç›¸å®¹)
- **éƒµä»¶æœå‹™**: Nodemailer + MailHog
- **å®¹å™¨åŒ–**: Docker + Docker Compose (ps: networkä½¿ç”¨hostå³å¯,çœå»port mapping)

### è³‡æ–™åº«è¨­è¨ˆ
- å®Œæ•´çš„é—œè¯å¼è³‡æ–™åº«è¨­è¨ˆ
- ç”¨æˆ¶ã€èª²ç¨‹ã€é ç´„ã€æœƒè­°ã€çµç®—ç­‰æ ¸å¿ƒè¡¨
- é©ç•¶çš„ç´¢å¼•å’Œç´„æŸ
- æ”¯æ´è»Ÿåˆªé™¤å’Œæ™‚é–“æˆ³

### API è¨­è¨ˆ
- RESTful API è¨­è¨ˆ
- çµ±ä¸€çš„éŒ¯èª¤è™•ç†
- è«‹æ±‚é©—è­‰å’Œæˆæ¬Š
- å®Œæ•´çš„ API æ–‡æª”

## ğŸ§ª æ¸¬è©¦å·¥å…·
TDB
### API æ¸¬è©¦ä»‹é¢
- å®Œæ•´çš„ Web æ¸¬è©¦å·¥å…· (`testAPI.html`)
- æ‰€æœ‰ API ç«¯é»çš„æ¸¬è©¦åŠŸèƒ½
- å¯¦æ™‚ç‹€æ…‹ç›£æ§
- ç”¨æˆ¶å‹å¥½çš„ä»‹é¢è¨­è¨ˆ

### é–‹ç™¼ç’°å¢ƒ
- Docker Compose ä¸€éµå•Ÿå‹•
- MailHog éƒµä»¶æ¸¬è©¦
- MinIO æª”æ¡ˆç®¡ç†ä»‹é¢
- ç†±é‡è¼‰é–‹ç™¼ç’°å¢ƒ

## ğŸ“Š é …ç›®çµ±è¨ˆ

### ä»£ç¢¼çµæ§‹
```
å¾Œç«¯ API (NestJS)
â”œâ”€â”€ èªè­‰æ¨¡çµ„ (Auth) âœ…
â”œâ”€â”€ ä½¿ç”¨è€…æ¨¡çµ„ (Users) âœ…
â”œâ”€â”€ æ•™å¸«æ¨¡çµ„ (Teachers) âœ…
â”œâ”€â”€ é ç´„æ¨¡çµ„ (Bookings) âœ…
â”œâ”€â”€ è³¼è²·é …ç›®æ¨¡çµ„ (Purchases) âœ…
â”œâ”€â”€ ç®¡ç†å“¡æ¨¡çµ„ (Admin) âœ…
â””â”€â”€ æ¸¬è©¦å·¥å…· (testAPI.html) âœ…

è³‡æ–™åº« (PostgreSQL)
â”œâ”€â”€ ç”¨æˆ¶è¡¨ âœ…
â”œâ”€â”€ æ•™å¸«æª”æ¡ˆè¡¨ âœ…
â”œâ”€â”€ è³¼è²·é …ç›®è¡¨ âœ…
â”œâ”€â”€ é ç´„è¡¨ âœ…
â””â”€â”€ é€šçŸ¥è¡¨ âœ…

åŸºç¤è¨­æ–½
â”œâ”€â”€ Docker Compose âœ…
â”œâ”€â”€ PostgreSQL âœ…
â”œâ”€â”€ MinIO âœ…
â””â”€â”€ MailHog âœ…
```

## ğŸš€ éƒ¨ç½²èªªæ˜

### å¿«é€Ÿå•Ÿå‹•
```bash
# ä½¿ç”¨å•Ÿå‹•è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
./start.sh

# æˆ–æ‰‹å‹•å•Ÿå‹•
docker-compose up -d
```

### é–‹ç™¼ç’°å¢ƒå•Ÿå‹•
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker-compose up -d

# æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# æŸ¥çœ‹ API æ—¥èªŒ
docker-compose logs -f api

# åœæ­¢æœå‹™
docker-compose down
```

### å®‰è£ä¾è³´ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰
```bash
cd apps/api
npm install
npm run start:dev
```

### æœå‹™ç«¯å£
- **API æœå‹™**: http://localhost:3001
- **API æ¸¬è©¦å·¥å…·**: http://localhost:3001/testAPI.html
- **MailHog Web UI**: http://localhost:8025
- **MinIO Console**: http://localhost:9001
- **PostgreSQL**: localhost:5432

## ğŸ¨ å‰ç«¯æ‡‰ç”¨

### æŠ€è¡“æ¶æ§‹
- **æ¡†æ¶**: Svelte + SvelteKit
- **æ¨£å¼**: Tailwind CSS
- **è·¯ç”±**: svelte-spa-router
- **ç‹€æ…‹ç®¡ç†**: Svelte stores
- **æ§‹å»ºå·¥å…·**: Vite

### å‰ç«¯ç‰¹è‰²
- **ç¾ä»£åŒ–è¨­è¨ˆ**: éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´æ¡Œé¢å’Œç§»å‹•ç«¯
- **å®Œæ•´çš„æ¬Šé™æ§åˆ¶**: åŸºæ–¼è§’è‰²çš„é é¢è¨ªå•æ§åˆ¶
- **å¯¦æ™‚é€šçŸ¥ç³»çµ±**: å„ªé›…çš„é€šçŸ¥æç¤º
- **å°ˆæ¥­çš„ UI çµ„ä»¶**: å¯é‡ç”¨çš„çµ„ä»¶åº«
- **å¤šè§’è‰²å„€è¡¨æ¿**: ç®¡ç†å“¡ã€è€å¸«ã€å­¸ç”Ÿå°ˆç”¨ä»‹é¢
- **å¤šèªè¨€æ”¯æŒ**: å®Œæ•´çš„åœ‹éš›åŒ–ç³»çµ±ï¼Œæ”¯æ´ä¸­æ–‡å’Œè‹±æ–‡
