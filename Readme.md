# Tutor Platform MVP 說明文件

我是線上教學老師與老闆，旗下有多名老師與學生，目前由我手動媒合上課時間、回收老師回報並結算。此專案目標是做出一個可先上線的 MVP，之後能逐步擴展功能與自動化流程。

## 1) 系統需求（MVP → 可擴展）

核心角色
- Admin：總覽、建立老師/學生、手動配課與加堂、月結審核。
- Teacher：設定可授課時段、管理課表、上課連結、課後上傳證明與教師回報、查看月結。
- Student：持有約課卡、取消約課卡、課程包、選老師與時段預約、課後填學習目標。

道具:
- 體驗卡: 由管理員授予, 其效果等同約課卡, 一周的時間限制.
- 約課卡: 有到期時間限制
- 取消約課卡: 有到期時間限制

預約與上課
- 每次預約扣一張約課卡.
- 老師維護每週重複的可授課時段（支持例外）。
- 學生查看老師空檔並預約, 30分鐘一個空檔, 一個空檔上課25分鐘。
- 課程分為25分鐘課程(使用一個空檔), 與50分鐘課程(使用兩個空檔), 預設均為25分鐘.
- 會議連結 MVP：由老師提供（可填 Zoom 個人會議室或每次填寫）。
- 通知：預約成功、課前 24h/1h 提醒、課後提醒（老師與學生各自需填資料）。
- 自動審批：預約成功即 confirmed（衝突或超容量才擋）。

課後閉環
- 老師：上傳截圖證明 + 填教師備註（teacher notes）。
- 齊備才算 Completed，否則維持 Confirmed，不進結算。

取消/補課
- 學生取消: 取消政策24小時前取消無消耗, 上课前12~24小時取消课程，消耗1張取消約課卡；上课前2~12小時取消课程，消耗2張取消約課卡；2小時內無法取消預設扣堂。
- 老師取消：先記錄，是否補償由 Admin 決策（或比照技術問題）。
- 技術問提：系統紀錄, 由管理員決定補償方案, 例如補償: 約課卡2張.

課程與計費
- 目前唯一課程 English 1-on-1，25 分鐘，預設每堂 7 美元。
- 抽成規則：平台全域預設，可被單一老師覆寫。
- 套裝課（package）：Admin 手動加堂（先不接金流），remaining_sessions 扣/返。
- Group 課先不開，模型預留 capacity。

結算與報表
- 月結：聚合上月已完成課堂，依 pricing rule 計算老師應得與平台分潤，生成 payout。
- Admin 報表：預約數、完成率、取消率、技術取消比例、收入與分潤。
- Teacher 報表：當月課時與估算收入。
- Student：剩餘堂數、已預約與歷史課程。

通知渠道
- MVP：Email（必備）。可選 SMS/WhatsApp。WeChat 後續導入。

權限與隱私
- RBAC：Admin/Teacher/Student 路由與資料可見性隔離。
- 檔案：上傳至 S3/MinIO，私有存取，僅 Admin 或對應老師可見。
