var oe=Object.defineProperty;var ue=(t,e,l)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var St=(t,e,l)=>ue(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function st(){}function ne(t){return t()}function Yt(){return Object.create(null)}function rt(t){t.forEach(ne)}function le(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ce(t){return Object.keys(t).length===0}function n(t,e){t.appendChild(e)}function se(t,e,l){t.insertBefore(e,l||null)}function Nt(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function Ct(t){return document.createTextNode(t)}function a(){return Ct(" ")}function x(t,e,l,u){return t.addEventListener(e,l,u),()=>t.removeEventListener(e,l,u)}function r(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function re(t){return t===""?null:+t}function fe(t){return Array.from(t.childNodes)}function de(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){t.value=e??""}function h(t,e,l,u){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}let It;function lt(t){It=t}const F=[],Zt=[];let K=[];const te=[],pe=Promise.resolve();let Et=!1;function he(){Et||(Et=!0,pe.then(ie))}function Pt(t){K.push(t)}const Ot=new Set;let M=0;function ie(){if(M!==0)return;const t=It;do{try{for(;M<F.length;){const e=F[M];M++,lt(e),ge(e.$$)}}catch(e){throw F.length=0,M=0,e}for(lt(null),F.length=0,M=0;Zt.length;)Zt.pop()();for(let e=0;e<K.length;e+=1){const l=K[e];Ot.has(l)||(Ot.add(l),l())}K.length=0}while(F.length);for(;te.length;)te.pop()();Et=!1,Ot.clear(),lt(t)}function ge(t){if(t.fragment!==null){t.update(),rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pt)}}function me(t){const e=[],l=[];K.forEach(u=>t.indexOf(u)===-1?e.push(u):l.push(u)),l.forEach(u=>u()),K=e}const _e=new Set;function ye(t,e){t&&t.i&&(_e.delete(t),t.i(e))}function ve(t,e,l){const{fragment:u,after_update:o}=t.$$;u&&u.m(e,l),Pt(()=>{const f=t.$$.on_mount.map(ne).filter(le);t.$$.on_destroy?t.$$.on_destroy.push(...f):rt(f),t.$$.on_mount=[]}),o.forEach(Pt)}function be(t,e){const l=t.$$;l.fragment!==null&&(me(l.after_update),rt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function xe(t,e){t.$$.dirty[0]===-1&&(F.push(t),he(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,l,u,o,f,p=null,g=[-1]){const d=It;lt(t);const c=t.$$={fragment:null,ctx:[],props:f,update:st,not_equal:o,bound:Yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Yt(),dirty:g,skip_bound:!1,root:e.target||d.$$.root};p&&p(c.root);let k=!1;if(c.ctx=l?l(t,e.props||{},(v,C,...A)=>{const m=A.length?A[0]:C;return c.ctx&&o(c.ctx[v],c.ctx[v]=m)&&(!c.skip_bound&&c.bound[v]&&c.bound[v](m),k&&xe(t,v)),C}):[],c.update(),k=!0,rt(c.before_update),c.fragment=u?u(c.ctx):!1,e.target){if(e.hydrate){const v=fe(e.target);c.fragment&&c.fragment.l(v),v.forEach(Nt)}else c.fragment&&c.fragment.c();e.intro&&ye(t.$$.fragment),ve(t,e.target,e.anchor),ie()}lt(d)}class ke{constructor(){St(this,"$$");St(this,"$$set")}$destroy(){be(this,1),this.$destroy=st}$on(e,l){if(!le(l))return st;const u=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return u.push(l),()=>{const o=u.indexOf(l);o!==-1&&u.splice(o,1)}}$set(e){this.$$set&&!ce(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Se="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Se);const Oe="http://localhost:3001";async function V(t,{method:e="GET",body:l,token:u}={}){const o=new URL(t,Oe),f={"Content-Type":"application/json"};u&&(f.Authorization=`Bearer ${u}`);const p=await fetch(o.toString(),{method:e,headers:f,body:l?JSON.stringify(l):void 0}),g=await p.text();let d;try{d=JSON.parse(g)}catch{d={raw:g}}if(!p.ok)throw Object.assign(new Error("Request failed"),{status:p.status,data:d});return d}async function Ce(){return V("/health",{method:"GET"})}async function Ee(t,e){return V("/auth/login",{method:"POST",body:{email:t,password:e},token:null})}async function Pe(t,e){return V("/packages",{method:"POST",body:e,token:t})}async function Ne(t,e){return V(`/students/${e}/packages/summary`,{method:"GET",token:t})}async function Ie(t){return V("/courses",{method:"GET",token:t})}async function Te(t,e){return V("/courses",{method:"POST",body:e,token:t})}function ee(t){let e;return{c(){e=s("span"),e.textContent="Token ready",h(e,"font-size","12px"),h(e,"background","#d1fae5"),h(e,"color","#065f46"),h(e,"padding","4px 8px"),h(e,"border-radius","999px")},m(l,u){se(l,e,u)},d(l){l&&Nt(e)}}}function Je(t){let e,l,u,o,f,p,g,d,c,k,v,C,A,m,W,it,R,ot,S,ut,J,at,i,L,O,Q,Tt,Jt,U,yt,At,q,X,ct,Y,Lt,vt,Ut,B,ft,Bt,Z,Gt,dt,tt,$t,G,bt,jt,D,y,pt,Rt,P,qt,z,Dt,N,zt,H,Ht,E,Mt,ht,et,Ft,$,gt,Kt,I,Vt,mt,nt,Wt,j,xt,Qt,_t,wt,kt,Xt,b=t[2]&&ee();return{c(){e=s("div"),l=s("h1"),l.textContent="Tutor Platform Web (Svelte)",u=a(),o=s("p"),f=Ct("API Base: "),p=s("code"),p.textContent=`${t[7]}`,g=a(),d=s("div"),c=s("div"),k=s("h2"),k.textContent="Health",v=a(),C=s("button"),C.textContent="GET /health",A=a(),m=s("div"),W=s("h2"),W.textContent="Login",it=a(),R=s("label"),R.textContent="Email",ot=a(),S=s("input"),ut=a(),J=s("label"),J.textContent="Password",at=a(),i=s("input"),L=a(),O=s("div"),Q=s("button"),Q.textContent="POST /auth/login",Tt=a(),b&&b.c(),Jt=a(),U=s("div"),yt=s("h2"),yt.textContent="Courses",At=a(),q=s("div"),X=s("div"),ct=s("div"),Y=s("button"),Y.textContent="GET /courses",Lt=a(),vt=s("small"),vt.textContent="Use the returned id as courseId below.",Ut=a(),B=s("div"),ft=s("label"),ft.textContent="title",Bt=a(),Z=s("input"),Gt=a(),dt=s("div"),tt=s("button"),tt.textContent="POST /courses",$t=a(),G=s("div"),bt=s("h2"),bt.textContent="Packages (Admin)",jt=a(),D=s("div"),y=s("div"),pt=s("label"),pt.textContent="studentId",Rt=a(),P=s("input"),qt=a(),z=s("label"),z.textContent="courseId",Dt=a(),N=s("input"),zt=a(),H=s("label"),H.textContent="totalSessions",Ht=a(),E=s("input"),Mt=a(),ht=s("div"),et=s("button"),et.textContent="POST /packages",Ft=a(),$=s("div"),gt=s("label"),gt.textContent="studentId",Kt=a(),I=s("input"),Vt=a(),mt=s("div"),nt=s("button"),nt.textContent="GET /students/:id/packages/summary",Wt=a(),j=s("div"),xt=s("h2"),xt.textContent="Output",Qt=a(),_t=s("pre"),wt=Ct(t[3]),r(C,"class","svelte-10itxfs"),r(c,"class","card svelte-10itxfs"),r(R,"for","login_email"),r(S,"id","login_email"),r(S,"placeholder","admin@example.com"),r(S,"class","svelte-10itxfs"),r(J,"for","login_password"),h(J,"margin-top","8px"),h(J,"display","block"),r(i,"id","login_password"),r(i,"type","password"),r(i,"placeholder","••••••••"),r(i,"class","svelte-10itxfs"),r(Q,"class","svelte-10itxfs"),h(O,"margin-top","10px"),h(O,"display","flex"),h(O,"gap","8px"),h(O,"align-items","center"),h(O,"flex-wrap","wrap"),r(m,"class","card svelte-10itxfs"),r(d,"class","row svelte-10itxfs"),r(Y,"class","svelte-10itxfs"),h(ct,"margin-bottom","8px"),r(ft,"for","course_title"),r(Z,"id","course_title"),r(Z,"placeholder","English 1-on-1"),r(Z,"class","svelte-10itxfs"),r(tt,"class","svelte-10itxfs"),h(dt,"margin-top","10px"),r(q,"class","row svelte-10itxfs"),r(U,"class","card svelte-10itxfs"),h(U,"margin-top","16px"),r(pt,"for","pkg_student_id"),r(P,"id","pkg_student_id"),r(P,"placeholder","UUID of student_profile"),r(P,"class","svelte-10itxfs"),r(z,"for","pkg_course_id"),h(z,"margin-top","8px"),h(z,"display","block"),r(N,"id","pkg_course_id"),r(N,"placeholder","UUID of course"),r(N,"class","svelte-10itxfs"),r(H,"for","pkg_total_sessions"),h(H,"margin-top","8px"),h(H,"display","block"),r(E,"id","pkg_total_sessions"),r(E,"type","number"),r(E,"min","1"),r(E,"class","svelte-10itxfs"),r(et,"class","svelte-10itxfs"),h(ht,"margin-top","10px"),r(gt,"for","summary_student_id"),r(I,"id","summary_student_id"),r(I,"placeholder","UUID of student_profile"),r(I,"class","svelte-10itxfs"),r(nt,"class","svelte-10itxfs"),h(mt,"margin-top","10px"),r(D,"class","row svelte-10itxfs"),r(G,"class","card svelte-10itxfs"),h(G,"margin-top","16px"),r(_t,"class","svelte-10itxfs"),r(j,"class","card svelte-10itxfs"),h(j,"margin-top","16px"),r(e,"class","wrap svelte-10itxfs")},m(_,T){se(_,e,T),n(e,l),n(e,u),n(e,o),n(o,f),n(o,p),n(e,g),n(e,d),n(d,c),n(c,k),n(c,v),n(c,C),n(d,A),n(d,m),n(m,W),n(m,it),n(m,R),n(m,ot),n(m,S),w(S,t[0]),n(m,ut),n(m,J),n(m,at),n(m,i),w(i,t[1]),n(m,L),n(m,O),n(O,Q),n(O,Tt),b&&b.m(O,null),n(e,Jt),n(e,U),n(U,yt),n(U,At),n(U,q),n(q,X),n(X,ct),n(ct,Y),n(X,Lt),n(X,vt),n(q,Ut),n(q,B),n(B,ft),n(B,Bt),n(B,Z),n(B,Gt),n(B,dt),n(dt,tt),n(e,$t),n(e,G),n(G,bt),n(G,jt),n(G,D),n(D,y),n(y,pt),n(y,Rt),n(y,P),w(P,t[4]),n(y,qt),n(y,z),n(y,Dt),n(y,N),w(N,t[5]),n(y,zt),n(y,H),n(y,Ht),n(y,E),w(E,t[6]),n(y,Mt),n(y,ht),n(ht,et),n(D,Ft),n(D,$),n($,gt),n($,Kt),n($,I),w(I,t[4]),n($,Vt),n($,mt),n(mt,nt),n(e,Wt),n(e,j),n(j,xt),n(j,Qt),n(j,_t),n(_t,wt),kt||(Xt=[x(C,"click",t[8]),x(S,"input",t[12]),x(i,"input",t[13]),x(Q,"click",t[9]),x(Y,"click",t[14]),x(tt,"click",t[15]),x(P,"input",t[16]),x(N,"input",t[17]),x(E,"input",t[18]),x(et,"click",t[10]),x(I,"input",t[19]),x(nt,"click",t[11])],kt=!0)},p(_,[T]){T&1&&S.value!==_[0]&&w(S,_[0]),T&2&&i.value!==_[1]&&w(i,_[1]),_[2]?b||(b=ee(),b.c(),b.m(O,null)):b&&(b.d(1),b=null),T&16&&P.value!==_[4]&&w(P,_[4]),T&32&&N.value!==_[5]&&w(N,_[5]),T&64&&re(E.value)!==_[6]&&w(E,_[6]),T&16&&I.value!==_[4]&&w(I,_[4]),T&8&&de(wt,_[3])},i:st,o:st,d(_){_&&Nt(e),b&&b.d(),kt=!1,rt(Xt)}}}function Ae(t,e,l){let u="http://localhost:3001",o="admin@example.com",f="admin123",p="",g="Ready",d="",c="",k=5;async function v(){try{const i=await Ce();l(3,g=JSON.stringify(i,null,2))}catch(i){l(3,g=JSON.stringify(i.data||{error:String(i)},null,2))}}async function C(){try{const i=await Ee(o,f);l(2,p=(i==null?void 0:i.access_token)||""),l(3,g=JSON.stringify(i,null,2))}catch(i){l(3,g=JSON.stringify(i.data||{error:String(i)},null,2))}}async function A(){try{if(!p)throw new Error("Please login first");const i=await Pe(p,{studentId:d,courseId:c,totalSessions:k});l(3,g=JSON.stringify(i,null,2))}catch(i){l(3,g=JSON.stringify(i.data||{error:String(i)},null,2))}}async function m(){try{if(!p)throw new Error("Please login first");if(!d)throw new Error("Please input studentId");const i=await Ne(p,d);l(3,g=JSON.stringify(i,null,2))}catch(i){l(3,g=JSON.stringify(i.data||{error:String(i)},null,2))}}function W(){o=this.value,l(0,o)}function it(){f=this.value,l(1,f)}const R=async()=>{try{l(3,g=JSON.stringify(await Ie(p),null,2))}catch(i){l(3,g=JSON.stringify(i.data||{error:String(i)},null,2))}},ot=async()=>{var i;try{const L=((i=document.getElementById("course_title"))==null?void 0:i.value)||"English 1-on-1";l(3,g=JSON.stringify(await Te(p,{title:L}),null,2))}catch(L){l(3,g=JSON.stringify(L.data||{error:String(L)},null,2))}};function S(){d=this.value,l(4,d)}function ut(){c=this.value,l(5,c)}function J(){k=re(this.value),l(6,k)}function at(){d=this.value,l(4,d)}return[o,f,p,g,d,c,k,u,v,C,A,m,W,it,R,ot,S,ut,J,at]}class Le extends ke{constructor(e){super(),we(this,e,Ae,Je,ae,{})}}new Le({target:document.getElementById("app")});
